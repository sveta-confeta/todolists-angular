"use strict";(self.webpackChunkinstagram_angular=self.webpackChunkinstagram_angular||[]).push([[637],{637:(Q,_,l)=>{l.r(_),l.d(_,{TodosModule:()=>z});var c=l(6895),m=l(1201),t=l(8256),h=l(7313),k=l(263),r=l(433),x=l(9841),v=l(4004),p=(()=>{return(n=p||(p={}))[n.active=0]="active",n[n.completed=2]="completed",p;var n})(),T=l(4504);function C(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"input",8),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.newTitle=i)})("blur",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.editTitleHandler())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.newTitle)}}function M(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"p",9),t.NdJ("dblclick",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.activateEditMode())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.task.title)}}const w=function(n){return{"completed-task":n}};let O=(()=>{class n{constructor(){this.newTitle="",this.editMode=!1,this.removeTaskEvent=new t.vpe,this.changeTaskEvent=new t.vpe,this.taskStatusEnum=p}removeTaskHandler(){this.removeTaskEvent.emit({todoId:this.task.todoListId,taskId:this.task.id})}changeTaskStatusHandler(e){this.changeTaskEvent.emit({todoId:this.task.todoListId,taskId:this.task.id,model:{status:e.currentTarget.checked?p.completed:p.active,title:this.task.title,completed:this.task.completed,startDate:this.task.startDate,priority:this.task.priority,description:this.task.description,deadline:this.task.deadline}})}activateEditMode(){this.editMode=!0,this.newTitle=this.task.title}editTitleHandler(){this.changeTaskEvent.emit({todoId:this.task.todoListId,taskId:this.task.id,model:{status:this.task.status,title:this.newTitle,completed:this.task.completed,startDate:this.task.startDate,priority:this.task.priority,description:this.task.description,deadline:this.task.deadline}}),this.newTitle="",this.editMode=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tl-task"]],inputs:{task:"task"},outputs:{removeTaskEvent:"removeTaskEvent",changeTaskEvent:"changeTaskEvent"},decls:10,vars:6,consts:[[1,"box"],[1,"task-content",3,"ngClass"],[1,"checked"],["type","checkbox",1,"checkbox",3,"checked","click"],[1,"checkmark"],["class","input","type","text",3,"ngModel","ngModelChange","blur",4,"ngIf","ngIfElse"],["content",""],[3,"click"],["type","text",1,"input",3,"ngModel","ngModelChange","blur"],[3,"dblclick"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"label",2)(3,"input",3),t.NdJ("click",function(a){return o.changeTaskStatusHandler(a)}),t.qZA(),t._UZ(4,"span",4),t.qZA(),t.YNc(5,C,1,1,"input",5),t.YNc(6,M,2,1,"ng-template",null,6,t.W1O),t.qZA(),t.TgZ(8,"button",7),t.NdJ("click",function(){return o.removeTaskHandler()}),t._uU(9,"-"),t.qZA()()),2&e){const i=t.MAs(7);t.xp6(1),t.Q6J("ngClass",t.VKq(4,w,o.task.status===o.taskStatusEnum.completed)),t.xp6(2),t.Q6J("checked",o.task.status===o.taskStatusEnum.completed),t.xp6(2),t.Q6J("ngIf",o.editMode)("ngIfElse",i)}},dependencies:[c.mk,c.O5,r.Fj,r.JJ,r.On],styles:[".box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;padding:0 5px;margin-bottom:5px}.task-content[_ngcontent-%COMP%]{display:flex}.completed-task[_ngcontent-%COMP%]{opacity:.5;text-decoration:line-through}.input[_ngcontent-%COMP%]{width:100%}.checked[_ngcontent-%COMP%]{position:relative;padding-left:32px;cursor:pointer;-webkit-user-select:none;user-select:none}.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{display:none}.checkmark[_ngcontent-%COMP%]{position:absolute;top:13px;left:0;width:18px;height:18px;flex-shrink:0;flex-grow:0;border:1px solid rgba(65,64,64);border-radius:.25em;margin-right:.5em;background-repeat:no-repeat;background-position:center center;background-size:50% 50%}.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{border-radius:.25em;border-color:#414040;background-color:#414040;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e\")}.checkmark[_ngcontent-%COMP%]:after{content:\"\";position:absolute;display:none}.checked[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.checked[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{border-color:#414040;background-color:#414040;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23fff' d='M6.564.75l-3.59 3.612-1.538-1.55L0 4.26 2.974 7.25 8 2.193z'/%3e%3c/svg%3e\");border-radius:.25em}"]}),n})();function y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tl-task",4),t.NdJ("removeTaskEvent",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.removeTask(i))})("changeTaskEvent",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.changeTask(i))}),t.qZA()}2&n&&t.Q6J("task",s.$implicit)}let P=(()=>{class n{constructor(e,o){this.tasksServices=e,this.todoServices=o,this.taskTitle=""}ngOnInit(){this.tasks$=(0,x.a)([this.tasksServices.tasks$,this.todoServices.todos$]).pipe((0,v.U)(e=>{let i=e[0][this.todoId],u=e[1].find(d=>d.id===this.todoId);return"completed"===u?.filter&&(i=i.filter(d=>d.status===p.completed)),"active"===u?.filter&&(i=i.filter(d=>d.status===p.active)),i})),this.tasksServices.getTasks(this.todoId)}addTaskHandler(){this.tasksServices.addTasks({title:this.taskTitle,todoId:this.todoId}),this.taskTitle=""}removeTask(e){this.tasksServices.removeTask(e)}changeTask(e){this.tasksServices.updateTask(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.C),t.Y36(h.S))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tl-tasks"]],inputs:{todoId:"todoId"},decls:6,vars:4,consts:[[1,"wrapper"],["type","text","placeholder","add new task",1,"input",3,"ngModel","ngModelChange"],[1,"btn-plus",3,"click"],[3,"task","removeTaskEvent","changeTaskEvent",4,"ngFor","ngForOf"],[3,"task","removeTaskEvent","changeTaskEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"input",1),t.NdJ("ngModelChange",function(a){return o.taskTitle=a}),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return o.addTaskHandler()}),t._uU(3,"+"),t.qZA()(),t.YNc(4,y,1,1,"tl-task",3),t.ALo(5,"async")),2&e&&(t.xp6(1),t.Q6J("ngModel",o.taskTitle),t.xp6(3),t.Q6J("ngForOf",t.lcZ(5,2,o.tasks$)))},dependencies:[c.sg,r.Fj,r.JJ,r.On,O,c.Ov],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:10px}.input[_ngcontent-%COMP%]{width:100%;-webkit-appearance:none;appearance:none;outline:0;border:1px solid #50a3a2;background-color:#50a3a2;opacity:.7;height:25px;font-size:15px;padding:7px 10px;display:block;text-align:left;color:#101010;font-weight:300;border-radius:3px 0 0 3px;box-shadow:0 1px 3px #0000004d,0 1px 2px #000c}.input[_ngcontent-%COMP%]::placeholder{color:#101010}.btn-plus[_ngcontent-%COMP%]{cursor:pointer;-webkit-appearance:none;appearance:none;outline:0;display:inline-block;background-color:#fff;border:0;color:#757575;border-radius:0 3px 3px 0;font-size:13px;transition-duration:.25s;padding:14px 10px;font-weight:600;line-height:1;box-shadow:0 1px 3px #0000004d,0 1px 2px #0000007f}"]}),n})();const f=function(n){return{completed:n}};let E=(()=>{class n{constructor(){this.changeFilterEvent=new t.vpe}changeFilterHandler(e){this.changeFilterEvent.emit(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tl-todo-filters"]],inputs:{filter:"filter"},outputs:{changeFilterEvent:"changeFilterEvent"},decls:7,vars:9,consts:[[1,"box"],[1,"btn",3,"ngClass","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return o.changeFilterHandler("all")}),t._uU(2," All "),t.qZA(),t.TgZ(3,"button",1),t.NdJ("click",function(){return o.changeFilterHandler("active")}),t._uU(4," Active "),t.qZA(),t.TgZ(5,"button",1),t.NdJ("click",function(){return o.changeFilterHandler("completed")}),t._uU(6," Completed "),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(3,f,"all"===o.filter)),t.xp6(2),t.Q6J("ngClass",t.VKq(5,f,"active"===o.filter)),t.xp6(2),t.Q6J("ngClass",t.VKq(7,f,"completed"===o.filter)))},dependencies:[c.mk],styles:[".box[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-self:flex-end}.btn.completed[_ngcontent-%COMP%]{background-color:#50a3a2;opacity:.8}.btn[_ngcontent-%COMP%]{cursor:pointer;-webkit-appearance:none;appearance:none;outline:0;display:inline-block;background-color:#fff;border:0;color:#2f2f2f;border-radius:3px;font-size:13px;transition-duration:.25s;padding:5px 10px;font-weight:600;line-height:1;text-transform:uppercase;box-shadow:0 1px 3px #0000001f,0 1px 2px #000c}"]}),n})(),Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["tl-todo-footer"]],inputs:{createDate:"createDate"},decls:3,vars:3,consts:[[1,"box"]],template:function(e,o){1&e&&(t.TgZ(0,"p",0),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,o.createDate)))},dependencies:[c.uU],styles:[".box[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid black}p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}"]}),n})();function F(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"input",9),t.NdJ("ngModelChange",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.newTitle=i)})("blur",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.editTitleHandler())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.newTitle)}}function J(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"b",10),t.NdJ("dblclick",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.toggleEditMode())}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.todo.title)}}let A=(()=>{class n{constructor(e){this.todosService=e,this.isTitleEdit=!1,this.newTitle="",this.removeTodoEvent=new t.vpe,this.editTodoEvent=new t.vpe}removeTodoHandler(){this.removeTodoEvent.emit(this.todo.id)}toggleEditMode(){this.newTitle=this.todo.title,this.isTitleEdit=!0}editTitleHandler(){this.isTitleEdit=!1,this.editTodoEvent.emit({todoId:this.todo.id,title:this.newTitle})}changeFilter(e){this.todosService.changeFilter({filter:e,todoId:this.todo.id})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.S))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tl-todo"]],inputs:{todo:"todo"},outputs:{removeTodoEvent:"removeTodoEvent",editTodoEvent:"editTodoEvent"},decls:10,vars:5,consts:[[1,"box"],[1,"todo-header"],["type","text",3,"ngModel","ngModelChange","blur",4,"ngIf","ngIfElse"],["content",""],[1,"btn",3,"click"],["src","assets/img/delete.png",1,"icon"],[3,"todoId"],[3,"filter","changeFilterEvent"],[3,"createDate"],["type","text",3,"ngModel","ngModelChange","blur"],[3,"dblclick"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,F,1,1,"input",2),t.YNc(3,J,2,1,"ng-template",null,3,t.W1O),t.TgZ(5,"button",4),t.NdJ("click",function(){return o.removeTodoHandler()}),t._UZ(6,"img",5),t.qZA()(),t._UZ(7,"tl-tasks",6),t.TgZ(8,"tl-todo-filters",7),t.NdJ("changeFilterEvent",function(a){return o.changeFilter(a)}),t.qZA(),t._UZ(9,"tl-todo-footer",8),t.qZA()),2&e){const i=t.MAs(4);t.xp6(2),t.Q6J("ngIf",o.isTitleEdit)("ngIfElse",i),t.xp6(5),t.Q6J("todoId",o.todo.id),t.xp6(1),t.Q6J("filter",o.todo.filter),t.xp6(1),t.Q6J("createDate",o.todo.addedDate)}},dependencies:[c.O5,r.Fj,r.JJ,r.On,P,E,Z],styles:[".box[_ngcontent-%COMP%]{margin:10px;max-width:230px;display:flex;flex-direction:column;gap:10px;color:#4f4e4e;background-color:#fff;padding:29px 15px 10px;text-align:center;border-radius:3px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.todo-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px;align-items:center;text-transform:uppercase;position:relative;z-index:5}.btn[_ngcontent-%COMP%]{border:none;background-color:transparent}"]}),n})();function S(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"tl-todo",9),t.NdJ("removeTodoEvent",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.removeTodo(i))})("editTodoEvent",function(i){t.CHM(e);const a=t.oxw();return t.KtG(a.editTodo(i))}),t.qZA()}2&n&&t.Q6J("todo",s.$implicit)}function b(n,s,e,o,i,a,u){try{var d=n[a](u),g=d.value}catch(G){return void e(G)}d.done?s(g):Promise.resolve(g).then(o,i)}const q=[{path:"",component:(()=>{class n{constructor(e,o){this.todosService=e,this.authService=o,this.todoTitle=""}ngOnInit(){this.todos$=this.todosService.todos$,this.todosService.getTodos()}addTodoHandler(){this.todosService.addTodo(this.todoTitle),this.todoTitle=""}removeTodo(e){this.todosService.removeTodo(e)}logoutHandler(){this.authService.logout()}editTodo(e){this.todosService.updateTodoTitle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.S),t.Y36(k.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["tl-todos"]],decls:24,vars:4,consts:[[1,"wrapper"],[1,"todos-header"],[1,"button",3,"click"],[1,"todos-input"],["type","text","placeholder","Add new todo",1,"input",3,"ngModel","ngModelChange"],[1,"btn-add",3,"click"],[1,"todos-box"],[3,"todo","removeTodoEvent","editTodoEvent",4,"ngFor","ngForOf"],[1,"bg-bubbles"],[3,"todo","removeTodoEvent","editTodoEvent"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1"),t._uU(3,"Angular TODO"),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.logoutHandler()}),t._uU(5,"Logout"),t.qZA()(),t.TgZ(6,"div",3)(7,"input",4),t.NdJ("ngModelChange",function(a){return o.todoTitle=a}),t.qZA(),t.TgZ(8,"button",5),t.NdJ("click",function(){return o.addTodoHandler()}),t._uU(9,"add"),t.qZA()(),t.TgZ(10,"div",6),t.YNc(11,S,1,1,"tl-todo",7),t.ALo(12,"async"),t.qZA(),t.TgZ(13,"ul",8),t._UZ(14,"li")(15,"li")(16,"li")(17,"li")(18,"li")(19,"li")(20,"li")(21,"li")(22,"li")(23,"li"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngModel",o.todoTitle),t.xp6(4),t.Q6J("ngForOf",t.lcZ(12,2,o.todos$)))},dependencies:[c.sg,r.Fj,r.JJ,r.On,A,c.Ov],styles:[".wrapper[_ngcontent-%COMP%]{background:#50a3a2;background:linear-gradient(top left,#50a3a2 0%,#53e3a6 100%);background:linear-gradient(to bottom right,#50a3a2 0%,#53e3a6 100%);position:relative;overflow:hidden;height:100%;min-height:100vh}.todos-header[_ngcontent-%COMP%]{margin:0 auto;padding:20px;max-width:1400px;display:flex;position:relative;z-index:5;align-items:center;justify-content:space-between}.button[_ngcontent-%COMP%]{cursor:pointer;position:relative;z-index:5;-webkit-appearance:none;appearance:none;outline:0;display:inline-block;background-color:#fff;border:0;color:#757575;border-radius:3px;font-size:18px;transition-duration:.25s;padding:15px 20px;font-weight:600;line-height:1;text-transform:uppercase}.button[_ngcontent-%COMP%]:hover{color:#50a3a2}.todos-input[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;z-index:5;margin-bottom:40px}.input[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;outline:0;border:1px solid rgba(255,255,255,.4);background-color:#fff3;width:220px;height:25px;font-size:19px;border-radius:3px 0 0 3px;padding:10px 15px;display:block;text-align:left;color:#fff;font-weight:300}.btn-add[_ngcontent-%COMP%]{border-left:none;cursor:pointer;outline:0;display:inline-block;background-color:#fff;border:0;color:#757575;border-radius:0 3px 3px 0;font-size:20px;padding:12px;font-weight:600}.todos-box[_ngcontent-%COMP%]{max-width:1400px;display:flex;position:relative;z-index:5;justify-content:center;margin:0 auto;gap:30px;flex-wrap:wrap}.bg-bubbles[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:#ffffff26;animation:square 25s infinite;transition-timing-function:linear}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(1){left:10%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2){left:20%;width:80px;height:80px;animation-delay:2s;animation-duration:17s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){left:25%;animation-delay:4s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(4){left:40%;width:60px;height:60px;animation-duration:22s;background-color:#ffffff40}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(5){left:70%}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(6){left:80%;width:80px;height:80px;animation-delay:3s;background-color:#fff3}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(7){left:32%;width:60px;height:60px;animation-delay:7s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(8){left:55%;width:20px;height:20px;animation-delay:15s;animation-duration:40s}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(9){left:25%;width:10px;height:10px;animation-delay:2s;animation-duration:40s;background-color:#ffffff4d}.bg-bubbles[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(10){left:90%;width:60px;height:60px;animation-delay:11s}@keyframes square{0%{transform:translateY(0)}to{transform:translateY(-1000px) rotate(600deg)}}"]}),n})(),pathMatch:"full",canActivate:[(()=>{class n{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){var i=this;return function H(n){return function(){var s=this,e=arguments;return new Promise(function(o,i){var a=n.apply(s,e);function u(g){b(a,o,i,u,d,"next",g)}function d(g){b(a,o,i,u,d,"throw",g)}u(void 0)})}}(function*(){yield i.authService.authRequest;const a=i.authService.isAuth;return a||i.router.navigate(["/login"]),a})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(k.e),t.LFG(m.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}];let N=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(q),m.Bz]}),n})(),z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[T.C,h.S],imports:[c.ez,N,r.u5]}),n})()}}]);